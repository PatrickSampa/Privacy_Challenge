(function(){"use strict";var e={2139:function(e,t,o){var r=o(5130),a=o(6768);function n(e,t,o,r,n,s){const c=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.Wv)(c)}var s={name:"App"},c=o(1241);const u=(0,c.A)(s,[["render",n]]);var i=u,d=o(1387);const l={class:"container-products"};function p(e,t,o,r,n,s){const c=(0,a.g2)("HeaderComponent"),u=(0,a.g2)("CategoryOptionComponent"),i=(0,a.g2)("ProductsBoxComponents");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(c),(0,a.bF)(u,{onCategoryChanged:s.filterProducts},null,8,["onCategoryChanged"]),(0,a.Lk)("div",l,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.products,(e=>((0,a.uX)(),(0,a.Wv)(i,{key:e.id,product:e},null,8,["product"])))),128))]),(0,a.Lk)("button",{class:"exit-button",onClick:t[0]||(t[0]=(...e)=>s.logout&&s.logout(...e))},"SAIR")])}o(4114);var m=o.p+"img/game-over-minimalist-ed.cc25a4bc.jpg";const g={class:"navbar"},h={class:"navbar-links"};function y(e,t,o,r,n,s){const c=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("nav",g,[t[2]||(t[2]=(0,a.Lk)("div",{class:"navbar-brand"},[(0,a.Lk)("img",{src:m,alt:"Logo"})],-1)),(0,a.Lk)("ul",h,[(0,a.Lk)("li",null,[(0,a.bF)(c,{to:{name:"PageProducts"}},{default:(0,a.k6)((()=>t[0]||(t[0]=[(0,a.eW)("Produtos")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(c,{to:{name:"PageMyOrders"}},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)("Meus Pedidos")]))),_:1})])])])}var v={name:"HeaderComponent",data(){return{productsCart:1}}};const k=(0,c.A)(v,[["render",y],["__scopeId","data-v-1c9d0dd4"]]);var b=k,f=o(4232);const P={class:"select-container"},L=["value"];function C(e,t,o,n,s,c){return(0,a.uX)(),(0,a.CE)("div",P,[t[2]||(t[2]=(0,a.Lk)("label",{for:"category-select"},"Selecione uma categoria:",-1)),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.selectedOption=e),class:"select-box",onChange:t[1]||(t[1]=(...e)=>c.onSelectChange&&c.onSelectChange(...e))},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.categories,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.name,value:e.name},(0,f.v_)(e.name),9,L)))),128))],544),[[r.u1,s.selectedOption]])])}var w={name:"CategoryOptionComponent",data(){return{selectedOption:"Todos",categories:[{name:"Todos"},{name:"Games"},{name:"Jogos"}]}},methods:{onSelectChange(){this.$emit("categoryChanged",this.selectedOption)}}};const _=(0,c.A)(w,[["render",C],["__scopeId","data-v-2130519e"]]);var x=_,O=o.p+"img/sharedImage.c8117882.jpg";const I={class:"product-info"},S={class:"product-name"},E={class:"product-price"};function q(e,t,o,r,n,s){return(0,a.uX)(),(0,a.CE)("div",{class:"product-card",onClick:t[0]||(t[0]=(...e)=>s.goToProductPage&&s.goToProductPage(...e))},[t[1]||(t[1]=(0,a.Lk)("img",{src:O,class:"product-image"},null,-1)),(0,a.Lk)("div",I,[(0,a.Lk)("h3",S,(0,f.v_)(o.product.nome),1),(0,a.Lk)("p",E,"R$ "+(0,f.v_)(o.product.preco.toFixed(2)),1)])])}var X={name:"ProductsBoxComponents",props:{product:{type:Object,required:!0}},methods:{goToProductPage(){this.$router.push({name:"PageBuy",state:{productData:{id:this.product.id,nome:this.product.nome,preco:this.product.preco,descricao:this.product.descricao,quantidade:this.product.quantidade}}})}}};const M=(0,c.A)(X,[["render",q],["__scopeId","data-v-fb24419c"]]);var $=M,B=o(4373);const j=B.A.create({baseURL:"http://localhost:5234/api"});var A=o(5485);const F=e=>({status:e.response?.status,message:e.response?.data}),T=e=>{if(e instanceof A.pe){const{status:t,message:o}=F(e);return 400===t&&"User Incorrect"===o.trim()?Promise.reject(new Error("Usuário ou senha incorretos")):400===t&&"user already exists"===o.trim()?Promise.reject(new Error("Usuário já existe")):Promise.reject(new Error("erro desconhecido"))}},U=async e=>{try{const t=await j.get(`/produto/getByCategory?category=${e}`);return t.data}catch(t){return T(t)}},R=async()=>{try{const e=await j.get("/produto/");return e.data}catch(e){return T(e)}},W=()=>!!localStorage.getItem("user");var D={name:"PageProducts",components:{HeaderComponent:b,CategoryOptionComponent:x,ProductsBoxComponents:$},data(){return{products:[]}},methods:{logout(){localStorage.removeItem("user"),this.$router.push({name:"PageLogin"})},filterProducts(e){this.products="Todos"===e?this.getCategory():this.getProductsByCategory(e)},getProductsByCategory(e){U(e).then((e=>{this.products=e}))},getCategory(){R().then((e=>{this.products=e}))}},mounted(){W()||this.$router.push({name:"PageLogin"}),R().then((e=>{this.products=e}))}};const Q=(0,c.A)(D,[["render",p],["__scopeId","data-v-3d46b222"]]);var J=Q;const V={class:"wrapper-buy"},H={class:"product-page"},N={class:"product-image"},z=["alt"],G={class:"product-details"},K={class:"price"},Y={class:"total-price"},Z={class:"quantity-selector"},ee=["disabled"],te=["max"],oe=["disabled"],re={class:"stock"},ae={class:"description"},ne={class:"payment-methods"};function se(e,t,o,n,s,c){return(0,a.uX)(),(0,a.CE)("div",V,[(0,a.Lk)("div",H,[(0,a.Lk)("div",N,[(0,a.Lk)("img",{src:O,alt:s.product.nome},null,8,z)]),(0,a.Lk)("div",G,[(0,a.Lk)("h1",null,(0,f.v_)(s.product.nome),1),(0,a.Lk)("p",K,"Preço unitário: R$ "+(0,f.v_)(s.product.preco.toFixed(2)),1),(0,a.Lk)("p",Y," Preço total: R$ "+(0,f.v_)((s.product.preco*s.quantity).toFixed(2)),1),(0,a.Lk)("div",Z,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>c.decrementQuantity&&c.decrementQuantity(...e)),disabled:s.quantity<=1}," - ",8,ee),(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>s.quantity=e),max:s.product.quantidade,readonly:""},null,8,te),[[r.Jo,s.quantity]]),(0,a.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>c.incrementQuantity&&c.incrementQuantity(...e)),disabled:s.quantity>=s.product.quantidade}," + ",8,oe)]),(0,a.Lk)("p",re,"Quantidade em estoque: "+(0,f.v_)(s.product.quantidade),1),(0,a.Lk)("p",ae,(0,f.v_)(s.product.descricao),1),(0,a.Lk)("div",ne,[(0,a.Lk)("label",null,[(0,a.bo)((0,a.Lk)("input",{type:"radio",name:"payment",value:"credit","onUpdate:modelValue":t[3]||(t[3]=e=>s.paymentMethod=e)},null,512),[[r.XL,s.paymentMethod]]),t[7]||(t[7]=(0,a.eW)(" Crédito"))]),(0,a.Lk)("label",null,[(0,a.bo)((0,a.Lk)("input",{type:"radio",name:"payment",value:"debit","onUpdate:modelValue":t[4]||(t[4]=e=>s.paymentMethod=e)},null,512),[[r.XL,s.paymentMethod]]),t[8]||(t[8]=(0,a.eW)(" Débito"))])]),(0,a.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>c.finalizePurchase&&c.finalizePurchase(...e))},"Finalizar Compra")])]),(0,a.Lk)("button",{class:"exit-button",onClick:t[6]||(t[6]=(...e)=>c.CancelBuy&&c.CancelBuy(...e))},"Cancelar")])}const ce=async(e,t,o,r,a,n)=>{try{const s=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).id:null,c=await j.post("/buy",{UserId:s,productId:e,quantity:t,PricelTotal:o,PaymentCompleted:r,DateCreatedBuy:a,DateUpdatedBuy:n});return c.data}catch(s){return T(s)}};var ue={name:"PageBuy",data(){return{product:{nome:"",preco:0,quantidade:0,descricao:""},quantity:1,paymentMethod:"credit"}},created(){const e=history.state;e&&e.productData?this.product=e.productData:this.$router.push({name:"PageProducts"})},methods:{incrementQuantity(){this.quantity<this.product.quantidade&&this.quantity++},decrementQuantity(){this.quantity>1&&this.quantity--},async finalizePurchase(){try{const e=await ce(this.product.id,this.quantity,this.product.preco*this.quantity,!1,new Date,new Date);alert("Seu Pagamento esta sendo processado. Aguarde.."),console.log(e)}catch(e){console.log(e)}this.$router.push({name:"PageMyOrders"})},CancelBuy(){this.$router.push({name:"PageProducts"})}},mounted(){W()||this.$router.push({name:"PageLogin"})}};const ie=(0,c.A)(ue,[["render",se],["__scopeId","data-v-1af02945"]]);var de=ie;const le={class:"orders-page-wrapper"},pe={key:0,class:"loading"},me={key:1},ge={key:2,class:"no-orders"};function he(e,t,o,r,n,s){const c=(0,a.g2)("HeaderComponent"),u=(0,a.g2)("OrdersComponents");return(0,a.uX)(),(0,a.CE)("div",le,[(0,a.bF)(c),n.loading?((0,a.uX)(),(0,a.CE)("div",pe,"Carregando pedidos...")):n.orders.length?((0,a.uX)(),(0,a.CE)("div",me,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.orders,(e=>((0,a.uX)(),(0,a.Wv)(u,{key:e.id,order:e},null,8,["order"])))),128))])):((0,a.uX)(),(0,a.CE)("div",ge,"Nenhum pedido encontrado")),(0,a.Lk)("button",{class:"exit-button",onClick:t[0]||(t[0]=(...e)=>s.logout&&s.logout(...e))},"SAIR")])}o(8992),o(2577);const ye={class:"order"};function ve(e,t,o,r,n,s){return(0,a.uX)(),(0,a.CE)("div",ye,[t[2]||(t[2]=(0,a.Lk)("img",{src:O,alt:"Imagem do Produto",class:"product-image"},null,-1)),(0,a.Lk)("h2",null,(0,f.v_)(n.nome),1),(0,a.Lk)("p",null,"Valor Total: R$ "+(0,f.v_)(o.order.priceTotal),1),(0,a.Lk)("p",null," Data de Compra: "+(0,f.v_)(new Date(o.order.dateCreatedBuy).toLocaleDateString()),1),(0,a.Lk)("p",null,"Quantidade: "+(0,f.v_)(o.order.quantity),1),(0,a.Lk)("p",null,[t[1]||(t[1]=(0,a.eW)(" Status do Pagamento: ")),(0,a.Lk)("span",{class:(0,f.C4)({"status-label":!0,"status-success":"Success"===n.StatusProcess,"status-canceled":"Canceled"===n.StatusProcess,"status-waiting":!1===o.order.paymentCompleted})},(0,f.v_)(0==o.order.paymentCompleted?"Processando Pagamento":n.StatusProcess),3)]),!1===o.order.paymentCompleted?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[0]||(t[0]=e=>s.cancelOrder())}," Cancelar Produto ")):(0,a.Q3)("",!0)])}const ke=async e=>{try{const t=await j.get(`/produto/id?id=${e}`);return t.data}catch(t){return T(t)}},be=async e=>{try{const t=await j.get(`/purchasing/getByIdBuy?id=${e}`);return t.data}catch(t){return T(t)}},fe=async e=>{try{const t=await j.put("/purchasing/canceled",e);return t.data}catch(t){return T(t)}};var Pe=o(4874),Le=o.n(Pe),Ce={name:"OrdersComponents",props:{order:{type:Object,required:!0}},data(){return{product:{name:"",price:"",quantity:"",total:"",date:"",id:""},StatusProcess:"",nome:"",CurrentPurchansing:{}}},methods:{cancelOrder(){fe(this.CurrentPurchansing).then((()=>{Le().fire({position:"top-end",icon:"success",title:"Pedido cancelado com sucesso!",showConfirmButton:!1,timer:3e3})})).catch((()=>{Le().fire({position:"top-end",icon:"error",title:"Pedido não pode ser cancelado no momento! Pagamento já foi processado!",showConfirmButton:!1,timer:3e3})})).finally((()=>{setTimeout((()=>{this._GetProductId(),window.location.reload()}),3e3)}))},ToProducts(){this.$router.push({name:"PageProducts"})},_GetProductId(){ke(this.order.productId).then((e=>{this.nome=e.nome}))}},mounted(){this.order.id&&(this._GetProductId(),be(this.order.id).then((e=>{this.CurrentPurchansing=e,this.StatusProcess=e.statusProcess})))}};const we=(0,c.A)(Ce,[["render",ve],["__scopeId","data-v-3768384f"]]);var _e=we;const xe=async()=>{try{const e=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).id:null,t=await j.get(`/buy/all?id=${e}`);return t.data}catch(e){return T(e)}};var Oe={name:"PageMyOrders",components:{HeaderComponent:b,OrdersComponents:_e},data(){return{orders:[],loading:!0}},methods:{logout(){localStorage.removeItem("user"),this.$router.push({name:"PageLogin"})},cancelOrder(e){const t=this.orders.find((t=>t.id===e));t&&"Processando"===t.status&&(t.status="Cancelado",alert("Pedido cancelado com sucesso!"))},ToProducts(){this.$router.push({name:"PageProducts"})}},mounted(){W()||this.$router.push({name:"PageLogin"}),xe().then((e=>{this.orders=e.reverse()})).finally((()=>{this.loading=!1}))}};const Ie=(0,c.A)(Oe,[["render",he],["__scopeId","data-v-a8027390"]]);var Se=Ie;const Ee=[{path:"/Home/Products",name:"PageProducts",component:J},{path:"/Home/Buy",name:"PageBuy",component:de,props:!0},{path:"/Home/MyOrders",name:"PageMyOrders",component:Se,props:!0}],qe={class:"wapper-login"},Xe={class:"form-box"},Me={action:""},$e={class:"input-box"},Be={class:"input-box"},je={class:"register-link"},Ae={key:0,class:"error-message"};function Fe(e,t,o,n,s,c){const u=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",qe,[(0,a.Lk)("div",Xe,[(0,a.Lk)("form",Me,[t[7]||(t[7]=(0,a.Lk)("h1",null,"Login",-1)),(0,a.Lk)("div",$e,[(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e)},null,512),[[r.Jo,s.email]]),t[3]||(t[3]=(0,a.Lk)("i",{class:"bx bxs-user"},null,-1))]),(0,a.Lk)("div",Be,[(0,a.bo)((0,a.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e)},null,512),[[r.Jo,s.password]]),t[4]||(t[4]=(0,a.Lk)("i",{class:"bx bxs-lock-alt"},null,-1))]),t[8]||(t[8]=(0,a.Lk)("div",{class:"remember-forget"},[(0,a.Lk)("label",{for:""},[(0,a.Lk)("input",{type:"checkbox"}),(0,a.eW)("Remember me ")]),(0,a.Lk)("a",{href:"#"},"Forgot Password")],-1)),(0,a.Lk)("button",{type:"button",class:"btn",onClick:t[2]||(t[2]=(...e)=>c.login&&c.login(...e))},"Login"),(0,a.Lk)("div",je,[(0,a.Lk)("p",null,[t[6]||(t[6]=(0,a.eW)("Don't have an account? ")),(0,a.bF)(u,{to:{name:"PageRegister"}},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)("Register")]))),_:1})])]),s.errorMessage?((0,a.uX)(),(0,a.CE)("p",Ae,(0,f.v_)(s.errorMessage),1)):(0,a.Q3)("",!0)])])])}const Te=async(e,t)=>{try{const o=await j.post("/users/login",{email:e,password:t});return o.data}catch(o){return T(o)}};var Ue={name:"PageLogin",data(){return{email:"",password:"",errorMessage:""}},methods:{login(){this.email.length>0&&this.password.length>0&&Te(this.email,this.password).then((e=>{localStorage.setItem("user",JSON.stringify(e)),this.$router.push({name:"PageProducts"})})).catch((e=>{this.errorMessage=e.message,console.log(e.message)}))}}};const Re=(0,c.A)(Ue,[["render",Fe],["__scopeId","data-v-19e9f85d"]]);var We=Re;const De={class:"wrapper-register"},Qe={class:"form-box"},Je={action:""},Ve={class:"input-box"},He={class:"input-box"},Ne={class:"input-box"},ze={class:"login-link"},Ge={key:0,class:"error-message"};function Ke(e,t,o,n,s,c){const u=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",De,[(0,a.Lk)("div",Qe,[(0,a.Lk)("form",Je,[t[9]||(t[9]=(0,a.Lk)("h1",null,"Register",-1)),(0,a.Lk)("div",Ve,[(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e)},null,512),[[r.Jo,s.name]]),t[4]||(t[4]=(0,a.Lk)("i",{class:"bx bxs-user"},null,-1))]),(0,a.Lk)("div",He,[(0,a.bo)((0,a.Lk)("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=e=>s.email=e)},null,512),[[r.Jo,s.email]]),t[5]||(t[5]=(0,a.Lk)("i",{class:"bx bxs-envelope"},null,-1))]),(0,a.Lk)("div",Ne,[(0,a.bo)((0,a.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=e=>s.password=e)},null,512),[[r.Jo,s.password]]),t[6]||(t[6]=(0,a.Lk)("i",{class:"bx bxs-lock-alt"},null,-1))]),(0,a.Lk)("button",{type:"button",class:"btn",onClick:t[3]||(t[3]=(...e)=>c.register&&c.register(...e))},"Register"),(0,a.Lk)("div",ze,[(0,a.Lk)("p",null,[t[8]||(t[8]=(0,a.eW)("Already have an account? ")),(0,a.bF)(u,{to:{name:"PageLogin"}},{default:(0,a.k6)((()=>t[7]||(t[7]=[(0,a.eW)("Login")]))),_:1})])]),s.errorMessage?((0,a.uX)(),(0,a.CE)("p",Ge,(0,f.v_)(s.errorMessage),1)):(0,a.Q3)("",!0)])])])}const Ye=async(e,t,o)=>{try{const r=await j.post("/users",{name:e,email:t,password:o});return r.data}catch(r){return T(r)}};var Ze={name:"PageRegister",data(){return{name:"",email:"",password:"",errorMessage:""}},methods:{register(){Ye(this.name,this.email,this.password).then((()=>{this.$router.push({name:"PageLogin"})})).catch((e=>{this.errorMessage=e.message}))}}};const et=(0,c.A)(Ze,[["render",Ke],["__scopeId","data-v-4ffe4563"]]);var tt=et;const ot=[{path:"/",name:"PageLogin",component:We},{path:"/register",name:"PageRegister",component:tt}],rt=(0,d.aE)({history:(0,d.LA)(),routes:[...Ee,...ot]});var at=rt;const nt=(0,r.Ef)(i);nt.use(at),nt.mount("#app")}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,r,a,n){if(!r){var s=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],n=e[d][2];for(var c=!0,u=0;u<r.length;u++)(!1&n||s>=n)&&Object.keys(o.O).every((function(e){return o.O[e](r[u])}))?r.splice(u--,1):(c=!1,n<s&&(s=n));if(c){e.splice(d--,1);var i=a();void 0!==i&&(t=i)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,a,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,n,s=r[0],c=r[1],u=r[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(a in c)o.o(c,a)&&(o.m[a]=c[a]);if(u)var d=u(o)}for(t&&t(r);i<s.length;i++)n=s[i],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},r=self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],(function(){return o(2139)}));r=o.O(r)})();
//# sourceMappingURL=app.232615d3.js.map